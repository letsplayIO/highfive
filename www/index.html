<!DOCTYPE html>
<html>
<head>
    <title>letsplay.io - high five</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="css/bootstrap.css" rel="stylesheet">
    <link href="css/editor.css" rel="stylesheet">
</head>
<body>
<canvas id="editor-ui" height="1000" width="1000"></canvas>

<section id="entity-tool" class="panel panel-default smallmenu" data-bind="visible: showEntityTool">
    <div class="panel-heading">

        <input type="search" class="form-control input-sm" placeholder="Search"
               data-bind="value: filter, valueUpdate: 'input'">

        <div id="tool-menu">
            <a href="#" data-bind="click: addEntity"
               data-toggle="tooltip" data-placement="bottom" title="add">
                <span class="glyphicon glyphicon-plus"></span>
            </a>
            <a href="#" data-bind="click: toggleShowImages, css: {'active-light': !showImages()}"
               data-toggle="tooltip" data-placement="bottom" title="images">
                <span class="glyphicon glyphicon-picture"></span>
            </a>
            <a href="#" data-bind="click: toggleShowSprites, css: {'active-light': !showSprites()}"
               data-toggle="tooltip" data-placement="bottom" title="sprites">
                <span class="glyphicon glyphicon-facetime-video"></span>
            </a>
            <a href="#" data-bind="click: toggleShowPaths, css: {'active-light': !showPaths()}"
               data-toggle="tooltip" data-placement="bottom" title="paths">
                <span class="glyphicon glyphicon-road"></span>
            </a>
            <a href="#" data-bind="click: toggleShowTouchAreas, css: {'active-light': !showTouchAreas()}"
               data-toggle="tooltip" data-placement="bottom" title="touch areas">
                <span class="glyphicon glyphicon-hand-up"></span>
            </a>
            <a href="#" data-bind="click: toggleShowTargets, css: {'active-light': !showTargets()}"
               data-toggle="tooltip" data-placement="bottom" title="targets">
                <span class="glyphicon glyphicon-screenshot"></span>
            </a>
            <a href="#" data-bind="click: toggleEditEvents"
               data-toggle="tooltip" data-placement="bottom" title="edit events">
                <span class="glyphicon glyphicon-calendar"></span>
            </a>
            <a href="#" data-bind="click: deselectAllEntities"
               data-toggle="tooltip" data-placement="bottom" title="deselect all">
                <span class="glyphicon glyphicon-resize-small"></span>
            </a>
        </div>
        <div data-bind="visible: showEditEvents" style="margin-top: 20px">
            <p>events</p>
            <input type="text" class="form-control input-sm"
                   data-bind="value: newEvent">
            <a href="#" data-bind="click: addEvent">add</a>
            <ul class="list-group" data-bind="foreach: events">
                <li class="list-group-item">
                    <span data-bind="text: $data"></span>
                    <a href="#" data-bind="click: $root.deleteEvent.bind($root, $data)">delete</a>
                </li>
            </ul>
        </div>
    </div>
    <div class="panel-body">
        <ul class="list-group" data-bind="foreach: entityBucket.entities">

            <li class="list-group-item" data-bind="css: {'active': isActive, 'selected': isSelected},
            click: $root.activateEntity.bind($root)">

                <div class="list-group-item-heading"
                     data-bind="event: {mouseover: $root.toggleControls, mouseout: $root.toggleControls}">

                    <a href="#"
                       data-bind="click: $root.toggleSelectEntity.bind($root), visible: !isEditOn(), clickBubble: false">
                        <span data-bind="html: isSelected() ? '&#9660;': '&#9656;'"></span>
                        <span data-bind="text: name"></span>
                    </a>

                    <input type="text" class="form-control input-sm" placeholder="name"
                           data-bind="value: name, visible: isEditOn">

                    <a href="#" data-bind="click: $root.toggleEditEntityName, visible: showEdit">
                        <span class="glyphicon glyphicon-pencil"
                              data-bind="css: {'active-light': !showControls()}"></span>
                    </a>

                    <a href="#" data-bind="visible: showHide, click: $root.toggleHide, clickBubble: false">
                        <span class="glyphicon"
                              data-bind="css: {'glyphicon-eye-open': !isHidden(), 'glyphicon-eye-close': isHidden,
                                                'active-light': !showControls()}">
                        </span>
                    </a>

                    <a href="#"
                       data-bind="click: $root.removeEntity.bind($root, $data), visible: showControls, clickBubble: false">
                        <span class="glyphicon glyphicon-trash"></span>
                    </a>
                    <a href="#" class="dropdown-toggle"
                       data-bind="visible: showHide" data-toggle="dropdown">
                        <span class="glyphicon glyphicon-plus"></span>
                    </a>

                    <ul class="dropdown-menu">
                        <li data-bind="visible: !hasImage()">
                            <a href="#" data-bind="click: $root.createImage">Image</a>
                        </li>
                        <li>
                            <a href="#" data-bind="click: $root.createPath">Path</a>
                        </li>
                        <li data-bind="visible: !hasTouchArea()">
                            <a href="#" data-bind="click: $root.createTouchArea">Touch Area</a>
                        </li>
                        <li data-bind="visible: !hasTarget()">
                            <a href="#" data-bind="click: $root.createTarget">Target</a>
                        </li>
                        <li data-bind="visible: !hasSprite()">
                            <a href="#" data-bind="click: $root.createSprite">Sprite</a>
                        </li>
                    </ul>

                </div>

                <ul class="list-group" data-bind="visible: isSelected">
                    <li class="list-group-item">

                        <form class="form-horizontal list-group-item-text"
                              data-bind="visible: isSelected">
                            <div class="form-group"
                                 data-bind="event: {mouseover: toggleRangeX, mouseout: toggleRangeX}">

                                <label class="control-label col-xs-4 input-sm">x</label>

                                <div class="col-xs-8">
                                    <input type="text" class="form-control input-sm" placeholder="x"
                                           data-bind="value: x">
                                </div>
                                <input type="range" style="width: 90%"
                                       data-bind="visible: showRangeX, value: x, valueUpdate: 'input',
                                           attr: {max: $root.MAX_RANGE}, event: {click: $root.activateItem.bind($root)}">
                            </div>

                            <div class="form-group"
                                 data-bind="event: {mouseover: toggleRangeY, mouseout: toggleRangeY}">
                                <label class="control-label col-xs-4 input-sm">y</label>

                                <div class="col-xs-8">
                                    <input type="text" class="form-control input-sm" placeholder="y"
                                           data-bind="value: y">
                                </div>
                                <input type="range" style="width: 90%"
                                       data-bind="visible: showRangeY, value: y, attr: {max: $root.MAX_RANGE},
                                       event: {click: $root.activateItem.bind($root)}, valueUpdate: 'input'">
                            </div>
                        </form>
                    </li>
                    <!--ko template: {name: 'item-skeleton', if: hasImage, data: image}-->
                    <!--/ko-->
                    <!--ko template: {name: 'item-skeleton', foreach: paths}-->
                    <!--/ko-->
                    <!--ko template: {name: 'item-skeleton', if: hasTouchArea, data: touchArea}-->
                    <!--/ko-->
                    <!--ko template: {name: 'item-skeleton', if: hasTarget, data: target}-->
                    <!--/ko-->
                    <!--ko template: {name: 'item-skeleton', if: hasSprite, data: sprite}-->
                    <!--/ko-->
                </ul>
            </li>
        </ul>
    </div>
</section>

<nav id="control-bar" class="navbar navbar-default navbar-fixed-bottom smallnav">
    <p class="navbar-text pull-left">
        <a href="#" class="navbar-link" data-bind="click: playPointer, css: {pink: isPlayPointerActive}">
            <span class="glyphicon glyphicon-phone"></span>
        </a>
        <a href="#" class="navbar-link" data-bind="click: buildPointer, css: {pink: isBuildPointerActive}">
            <span class="glyphicon glyphicon-pencil"></span>
        </a>
    </p>

    <form class="navbar-form navbar-left">
        <div class="form-group" style="width: 500px">
            <input class="form-control input-sm" type="range">
        </div>
    </form>

    <p class="navbar-text">
        <a href="#" class="navbar-link" data-bind="click: togglePlay">
            <span class="glyphicon " data-bind="css: {'glyphicon-play': isPause, 'glyphicon-pause': isPlay}"></span>
        </a>
        <a href="#" class="navbar-link" data-bind="click: toggleGhostMapping, visible: isPlay,
            css: {pink: isGhostMappingActive}"> <!-- aka onion skinning -->
            <span class="glyphicon glyphicon-film"></span>
        </a>
    </p>


    <div class="navbar-form navbar-left">
        <div class="form-group" style="width: 60px">
            <label for="zoomlevel" class="sr-only">zoom</label>
            <input id="zoomlevel" type="text" class="form-control input-sm" placeholder="zoom"
                   data-bind="value: zoomLevel">
        </div>
        %
    </div>
    <p class="navbar-text">
        <a href="#" class="navbar-link" data-bind="click: zoomIn">
            <span class="glyphicon glyphicon-zoom-in"></span>
        </a>
        <a href="#" class="navbar-link" data-bind="click: zoomOut">
            <span class="glyphicon glyphicon-zoom-out"></span>
        </a>
    </p>

    <div class="btn-group dropup pull-right navbar-text">
        <a href="#" class="dropdown-toggle navbar-link" data-toggle="dropdown">
            <span class="glyphicon glyphicon-cog"></span>
        </a>

        <ul class="dropdown-menu">
            <li>
                <a href="#" data-bind="click: toggleShowEntityTool">Entities</a>
            </li>
            <li>
                <a href="#" data-bind="click: exportStuff">export</a>
            </li>
        </ul>
    </div>

</nav>

<script type="text/html" id="item-skeleton">

<li class="list-group-item"
    data-bind="event: {mouseover: $root.toggleControls, mouseout: $root.toggleControls},
                        css: {selected: isActive}, click: $root.activateItem.bind($root)">

    <a href="#" data-bind="text: type, click: $root.toggleSelectItem.bind($root), clickBubble: false"></a>

    <a href="#" data-bind="click: $root.toggleHide, visible: showHide, clickBubble: false">
            <span class="glyphicon"
                  data-bind="css: {'glyphicon-eye-open': !isHidden(), 'glyphicon-eye-close': isHidden, 'active-light': !showControls()}"></span>
    </a>

    <a href="#"
       data-bind="click: $root.removeItem.bind($root, $parent, $data), visible: showControls, clickBubble: false">
        <span class="glyphicon glyphicon-trash"></span>
    </a>

    <form class="form-horizontal list-group-item-text"
          data-bind="visible: isSelected">

        <!--ko if: $root.isImage($data)-->
        <div class="form-group">
            <div class="col-xs-4 img-upload img-thumbnail"
                 data-bind="drop: $data">
                <span data-bind="visible: !imgReady()" class="glyphicon glyphicon-plus-sign"
                      style="font-size: 21px; top: 7px"></span>
            </div>
            <div class="col-xs-8">
                <p class="form-control-static" data-bind="text: shortFileName"></p>
            </div>
        </div>
        <!--/ko-->

        <!-- ko if: $root.isSprite($data) -->
        <div data-bind="foreach: frames">
            <div class="form-group">
                <div class="col-xs-4 img-upload img-thumbnail"
                     data-bind="drop: $data">
                <span data-bind="visible: !imgReady()" class="glyphicon glyphicon-plus-sign"
                      style="font-size: 21px; top: 7px"></span>
                </div>
                <div class="col-xs-8">
                    <p class="form-control-static" data-bind="text: shortFileName"></p>
                </div>
            </div>
        </div>
        <!-- /ko -->

        <!-- ko if: $root.isTarget($data) -->
        <div class="form-group" data-bind="event: {mouseover: toggleRangeRadius, mouseout: toggleRangeRadius}">

            <label class="control-label col-xs-4 input-sm">radius</label>

            <div class="col-xs-8">
                <input type="text" class="form-control input-sm" data-bind="value: radius">
            </div>
            <input type="range" style="width: 90%"
                   data-bind="visible: showRangeRadius, value: radius, attr: {max: $root.MAX_RANGE},
                                       event: {click: $root.activateItem.bind($root)}, valueUpdate: 'input'">
        </div>
        <!-- /ko -->

        <!-- ko if: $root.isTouchArea($data) -->
        <div class="form-group"
             data-bind="event: {mouseover: toggleRangeWidth, mouseout: toggleRangeWidth}">
            <label class="control-label col-xs-4 input-sm">width</label>

            <div class="col-xs-8">
                <input type="text" class="form-control input-sm"
                       data-bind="value: width">
            </div>

            <input type="range" style="width: 90%"
                   data-bind="visible: showRangeWidth, value: width, valueUpdate: 'input',
                                           attr: {max: $root.MAX_RANGE}, event: {click: $root.activateItem.bind($root)}">
        </div>
        <!-- /ko -->

        <!-- ko if: $root.isTouchArea($data) -->
        <div class="form-group"
             data-bind="event: {mouseover: toggleRangeHeight, mouseout: toggleRangeHeight}">
            <label class="control-label col-xs-4 input-sm">height</label>

            <div class="col-xs-8">
                <input type="text" class="form-control input-sm"
                       data-bind="value: height">
            </div>

            <input type="range" style="width: 90%"
                   data-bind="visible: showRangeHeight, value: height, valueUpdate: 'input',
                                           attr: {max: $root.MAX_RANGE}, event: {click: $root.activateItem.bind($root)}">
        </div>
        <!-- /ko -->

        <!-- ko if: $root.isPath($data) -->
        <div class="form-group"
             data-bind="event: {mouseover: toggleRangeEndX, mouseout: toggleRangeEndX}">
            <label class="control-label col-xs-4 input-sm">endX</label>

            <div class="col-xs-8">
                <input type="text" class="form-control input-sm"
                       data-bind="value: endX">
            </div>

            <input type="range" style="width: 90%"
                   data-bind="visible: showRangeEndX, value: endX, valueUpdate: 'input',
                                           attr: {max: $root.MAX_RANGE}, event: {click: $root.activateItem.bind($root)}">
        </div>
        <!-- /ko -->

        <!-- ko if: $root.isPath($data) -->
        <div class="form-group"
             data-bind="event: {mouseover: toggleRangeEndY, mouseout: toggleRangeEndY}">
            <label class="control-label col-xs-4 input-sm">endY</label>

            <div class="col-xs-8">
                <input type="text" class="form-control input-sm"
                       data-bind="value: endY">
            </div>

            <input type="range" style="width: 90%"
                   data-bind="visible: showRangeEndY, value: endY, valueUpdate: 'input',
                                           attr: {max: $root.MAX_RANGE}, event: {click: $root.activateItem.bind($root)}">
        </div>
        <!-- /ko -->

        <div class="form-group">
            <label class="control-label col-xs-4 input-sm">add</label>

            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                <span class="glyphicon glyphicon-plus"></span>
            </a>

            <ul class="dropdown-menu" data-bind="foreach: $root.events">
                <li><a href="#" data-bind="text: $data, click: add" </li>
            </ul>

            <div class="col-xs-8">
                <select class="form-control input-sm" data-bind="options: $root.events, selectedOptions: add" multiple>
                </select>
            </div>
        </div>

        <div class="form-group">
            <label class="control-label col-xs-4 input-sm">delay</label>

            <div class="col-xs-8">
                <input type="text" class="form-control input-sm"
                       data-bind="value: delay">
            </div>
        </div>

        <div class="form-group">
            <label class="control-label col-xs-4 input-sm">remove</label>

            <div class="col-xs-8">
                <select class="form-control input-sm" data-bind="options: $root.events, selectedOptions: remove" multiple>
                </select>
            </div>
        </div>

        <div class="form-group">
            <label class="control-label col-xs-4 input-sm">trigger</label>

            <div class="col-xs-8">
                <select class="form-control input-sm" data-bind="options: $root.events, selectedOptions: trigger" multiple>
                </select>
            </div>
        </div>

        <!--ko if: $root.isPath($data) || $root.isSprite($data)-->
        <div class="form-group">
            <label class="control-label col-xs-4 input-sm">loop</label>

            <div class="col-xs-8">
                <input type="checkbox" data-bind="checked: loop">
            </div>
        </div>
        <!--/ko-->

        <!--ko if: $root.isPath($data) || $root.isSprite($data)-->
        <div class="form-group">
            <label class="control-label col-xs-4 input-sm">duration</label>

            <div class="col-xs-8">
                <input type="text" class="form-control input-sm"
                       data-bind="value: duration">
            </div>
        </div>
        <!--/ko-->

        <!--ko if: $root.isPath($data)-->
        <div class="form-group">
            <label class="control-label col-xs-4 input-sm">transition</label>

            <div class="col-xs-8">
                <input type="text" class="form-control input-sm"
                       data-bind="value: transition">
            </div>
        </div>
        <!--/ko-->

        <!--ko if: $root.isImage($data) || $root.isSprite($data)-->
        <div class="form-group">
            <label class="control-label col-xs-4 input-sm">zIndex</label>

            <div class="col-xs-8">
                <input type="text" class="form-control input-sm"
                       data-bind="value: zIndex">
            </div>
        </div>
        <!--/ko-->
    </form>
</li>

</script>

<script data-main="js/main.js" src="js/lib/require.js"></script>

</body>
</html>