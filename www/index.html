<!DOCTYPE html>
<html>
<head>
    <title>letsplay.io - high five</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="css/bootstrap.css" rel="stylesheet">
    <link href="css/editor.css" rel="stylesheet">
</head>
<body>
<canvas id="editor-ui" height="1000" width="1000"></canvas>

<section id="layers-tool" class="panel panel-default" data-bind="visible: showLayerTool">
    <div class="panel-heading">
        <input type="search" class="form-control" placeholder="Search"
               data-bind="value: filter, valueUpdate: 'afterkeydown'">
    </div>
    <div class="panel-body">
        <ul class="list-group" data-bind="foreach: layerBucket.layers">
            <li class="list-group-item" data-bind="css: {'active': isActive, 'selected': isSelected}">
                <span class="badge" data-bind="text: itemCount"></span>

                <div class="list-group-item-heading"
                     data-bind="event: {mouseover: $root.toggleLayerControls, mouseout: $root.toggleLayerControls}">

                    <a href="#" data-bind="click: $root.toggleSelectLayer.bind($root)">
                        <span data-bind="html: isSelected() ? '&#9660;': '&#9656;'"></span>
                        <span data-bind="text: name"></span>
                    </a>

                    <a href="#" data-bind="visible: showHide, click: $root.toggleHideLayer">
                        <span class="glyphicon"
                              data-bind="css: {'glyphicon-eye-open': !isHidden(), 'glyphicon-eye-close': isHidden,
                                                'active-light': !showControls()}">
                        </span>
                    </a>
                </div>

                <ul class="list-group" data-bind="foreach: items, visible: showItems">

                    <li class="list-group-item"
                        data-bind="event: {mouseover: $root.toggleItemControls, mouseout: $root.toggleItemControls},
                        css: {selected: isActive}, click: $root.activateItem.bind($root)">

                        <a href="#" data-bind="text: name, click: $root.toggleSelectItem.bind($root),
                        visible: !isEditOn(), clickBubble: false"></a>

                        <input type="text" class="form-control input-sm" placeholder="name"
                               data-bind="value: name, visible: isEditOn">

                        <a href="#" data-bind="click: $root.toggleEditItemName, visible: showEdit">
                            <span class="glyphicon glyphicon-pencil"
                                  data-bind="css: {'active-light': !showControls()}">
                            </span>
                        </a>

                        <a href="#" data-bind="click: $root.toggleHideItem, visible: showHide, clickBubble: false">
                            <span class="glyphicon"
                                  data-bind="css: {'glyphicon-eye-open': !isHidden(), 'glyphicon-eye-close': isHidden,
                                                'active-light': !showControls()}">
                            </span>
                        </a>

                        <a href="#" data-bind="click: $root.linkItem, visible: showControls">
                            <span class="glyphicon glyphicon-link"></span>
                        </a>

                        <a href="#" data-bind="click: $parent.deleteItem, visible: showControls, clickBubble: false">
                            <span class="glyphicon glyphicon-trash"></span>
                        </a>

                        <form class="form-horizontal list-group-item-text"
                              data-bind="visible: isSelected">

                            <div data-bind="if: $root.isRectangle($data) || $root.isCircle($data)">
                                <div class="form-group"
                                     data-bind="event: {mouseover: toggleRangeXPoint, mouseout: toggleRangeXPoint}">

                                    <label class="control-label col-xs-4 input-sm" for="xpoint">x</label>

                                    <div class="col-xs-8">
                                        <input id="xpoint" type="text" class="form-control input-sm" placeholder="x"
                                               data-bind="value: xPoint">
                                    </div>
                                    <input id="xpointrange" type="range" style="width: 90%"
                                           data-bind="visible: showRangeXPoint, value: xPoint, valueUpdate: 'input',
                                           attr: {max: $root.MAX_RANGE}, event: {click: $root.activateItem.bind($root)}">
                                </div>
                            </div>

                            <div data-bind="if: $root.isRectangle($data) || $root.isCircle($data)">
                                <div class="form-group"
                                     data-bind="event: {mouseover: toggleRangeYPoint, mouseout: toggleRangeYPoint}">
                                    <label class="control-label col-xs-4 input-sm" for="ypoint">y</label>

                                    <div class="col-xs-8">
                                        <input id="ypoint" type="text" class="form-control input-sm" placeholder="y"
                                               data-bind="value: yPoint">
                                    </div>
                                    <input id="ypointrange" type="range" style="width: 90%"
                                           data-bind="visible: showRangeYPoint, value: yPoint, attr: {max: $root.MAX_RANGE},
                                       event: {click: $root.activateItem.bind($root)}, valueUpdate: 'input'">
                                </div>
                            </div>

                            <div data-bind="if: $root.isRectangle($data)">
                                <div class="form-group"
                                     data-bind="event: {mouseover: toggleRangeWidth, mouseout: toggleRangeWidth}">
                                    <label class="control-label col-xs-4 input-sm" for="width">width</label>

                                    <div class="col-xs-8">
                                        <input id="width" type="text" class="form-control input-sm" placeholder="width"
                                               data-bind="value: width">
                                    </div>
                                    <input id="widthrange" type="range" style="width: 90%"
                                           data-bind="visible: showRangeWidth, value: width, attr: {max: $root.MAX_RANGE},
                                       event: {click: $root.activateItem.bind($root)}, valueUpdate: 'input'">
                                </div>
                            </div>

                            <div data-bind="if: $root.isRectangle($data)">
                                <div class="form-group"
                                     data-bind="event: {mouseover: toggleRangeHeight, mouseout: toggleRangeHeight}">
                                    <label class="control-label col-xs-4 input-sm" for="height">height</label>

                                    <div class="col-xs-8">
                                        <input id="height" type="text" class="form-control input-sm"
                                               placeholder="height"
                                               data-bind="value: height">
                                    </div>
                                    <input id="heightrange" type="range" style="width: 90%"
                                           data-bind="visible: showRangeHeight, value: height, attr: {max: $root.MAX_RANGE},
                                       event: {click: $root.activateItem.bind($root)}, valueUpdate: 'input'">
                                </div>
                            </div>

                            <div data-bind="if: $root.isLine($data)">
                                <div class="form-group"
                                     data-bind="event: {mouseover: toggleRangeXPointA, mouseout: toggleRangeXPointA}">
                                    <label class="control-label col-xs-4 input-sm" for="xpointa">A:x</label>

                                    <div class="col-xs-8">
                                        <input id="xpointa" type="text" class="form-control input-sm"
                                               data-bind="value: xPointA">
                                    </div>
                                    <input id="xpointarange" type="range" style="width: 90%"
                                           data-bind="visible: showRangeXPointA, value: xPointA, attr: {max: $root.MAX_RANGE},
                                       event: {click: $root.activateItem.bind($root)}, valueUpdate: 'input'">
                                </div>
                            </div>

                            <div data-bind="if: $root.isLine($data)">
                                <div class="form-group"
                                     data-bind="event: {mouseover: toggleRangeYPointA, mouseout: toggleRangeYPointA}">
                                    <label class="control-label col-xs-4 input-sm" for="ypointa">A:y</label>

                                    <div class="col-xs-8">
                                        <input id="ypointa" type="text" class="form-control input-sm"
                                               data-bind="value: yPointA">
                                    </div>
                                    <input id="ypointarange" type="range" style="width: 90%"
                                           data-bind="visible: showRangeYPointA, value: yPointA, attr: {max: $root.MAX_RANGE},
                                       event: {click: $root.activateItem.bind($root)}, valueUpdate: 'input'">
                                </div>
                            </div>

                            <div data-bind="if: $root.isLine($data)">
                                <div class="form-group"
                                     data-bind="event: {mouseover: toggleRangeXPointB, mouseout: toggleRangeXPointB}">
                                    <label class="control-label col-xs-4 input-sm" for="xpointb">B:x</label>

                                    <div class="col-xs-8">
                                        <input id="xpointb" type="text" class="form-control input-sm"
                                               data-bind="value: xPointB">
                                    </div>
                                    <input id="xpointbrange" type="range" style="width: 90%"
                                           data-bind="visible: showRangeXPointB, value: xPointB, attr: {max: $root.MAX_RANGE},
                                       event: {click: $root.activateItem.bind($root)}, valueUpdate: 'input'">
                                </div>
                            </div>

                            <div data-bind="if: $root.isLine($data)">
                                <div class="form-group"
                                     data-bind="event: {mouseover: toggleRangeYPointB, mouseout: toggleRangeYPointB}">
                                    <label class="control-label col-xs-4 input-sm" for="ypointb">B:y</label>

                                    <div class="col-xs-8">
                                        <input id="ypointb" type="text" class="form-control input-sm"
                                               data-bind="value: yPointB">
                                    </div>
                                    <input id="ypointbrange" type="range" style="width: 90%"
                                           data-bind="visible: showRangeYPointB, value: yPointB, attr: {max: $root.MAX_RANGE},
                                       event: {click: $root.activateItem.bind($root)}, valueUpdate: 'input'">
                                </div>
                            </div>

                            <div data-bind="if: $root.isCircle($data)">
                                <div class="form-group"
                                     data-bind="event: {mouseover: toggleRangeRadius, mouseout: toggleRangeRadius}">
                                    <label class="control-label col-xs-4 input-sm" for="radius">radius</label>

                                    <div class="col-xs-8">
                                        <input id="radius" type="text" class="form-control input-sm"
                                               placeholder="radius"
                                               data-bind="value: radius">
                                    </div>
                                    <input id="radiusrange" type="range" style="width: 90%"
                                           data-bind="visible: showRangeRadius, value: radius, attr: {max: $root.MAX_RANGE},
                                       event: {click: $root.activateItem.bind($root)}, valueUpdate: 'input'">
                                </div>
                            </div>

                        </form>
                    </li>
                </ul>
            </li>
        </ul>
    </div>
</section>

<nav id="control-bar" class="navbar navbar-default navbar-fixed-bottom">
    <p class="navbar-text pull-left">
        <a href="#" class="navbar-link" data-bind="click: playPointer, css: {pink: isPlayPointerActive}">
            <span class="glyphicon glyphicon-phone"></span>
        </a>
        <a href="#" class="navbar-link" data-bind="click: buildPointer, css: {pink: isBuildPointerActive}">
            <span class="glyphicon glyphicon-pencil"></span>
        </a>
    </p>

    <form class="navbar-form navbar-left">
        <div class="form-group" style="width: 500px">
            <input class="form-control" type="range">
        </div>
    </form>

    <p class="navbar-text">
        <a href="#" class="navbar-link" data-bind="click: togglePlay">
            <span class="glyphicon " data-bind="css: {'glyphicon-play': isPause, 'glyphicon-pause': isPlay}"></span>
        </a>
        <a href="#" class="navbar-link" data-bind="click: toggleGhostMapping, visible: isPlay,
            css: {pink: isGhostMappingActive}"> <!-- aka onion skinning -->
            <span class="glyphicon glyphicon-film"></span>
        </a>
    </p>


    <form class="navbar-form navbar-left">
        <div class="form-group" style="width: 60px">
            <label for="zoomlevel" class="sr-only">zoom</label>
            <input id="zoomlevel" type="text" class="form-control" placeholder="zoom">
        </div>
        %
    </form>
    <p class="navbar-text">
        <a href="#" class="navbar-link">
            <span class="glyphicon glyphicon-zoom-in"></span>
        </a>
        <span class="glyphicon glyphicon-zoom-out"></span>
    </p>

    <div class="btn-group dropup pull-right navbar-text">
        <a href="#" class="dropdown-toggle navbar-link" data-toggle="dropdown">
            <span class="glyphicon glyphicon-cog"></span>
        </a>

        <ul class="dropdown-menu">
            <li>
                <a href="#" data-bind="click: toggleShowLayerTool">Layers</a>
            </li>
            <li>
                <a href="#" data-bind="click: exportStuff">export</a>
            </li>
        </ul>
    </div>

</nav>

<script data-main="js/main.js" src="js/lib/require.js"></script>
</body>
</html>